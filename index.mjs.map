{"version":3,"file":"index.mjs","sources":["../lib/day_of_year.js"],"sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport isDateObject from '@stdlib/assert-is-date-object' ;\nimport { isPrimitive as isString } from '@stdlib/assert-is-string' ;\nimport { isPrimitive as isInteger } from '@stdlib/assert-is-integer' ;\nimport daysInMonth from '@stdlib/time-days-in-month' ;\nimport isLeapYear from '@stdlib/assert-is-leap-year' ;\nimport lowercase from '@stdlib/string-lowercase' ;\nimport format from '@stdlib/error-tools-fmtprodmsg' ;\nimport MONTHS from './months.json' ;\nimport DAYS from './days.json' ;\n\n\n// MAIN //\n\n/**\n* Returns the day of the year.\n*\n* @param {(string|integer|Date)} [month] - month (or Date)\n* @param {integer} [day] - day\n* @param {integer} [year] - year\n* @throws {TypeError} first argument must be either a string, integer, or `Date` object\n* @throws {Error} must provide a recognized month\n* @throws {RangeError} an integer month argument must be on the interval `[1,12]`\n* @throws {TypeError} second argument must be an integer\n* @throws {RangeError} second argument must be greater than `0` and less than or equal to the maximum number of days in a month\n* @throws {TypeError} third argument must be an integer\n* @returns {integer} day of the year\n*\n* @example\n* var day = dayOfYear();\n* // returns <number>\n*\n* @example\n* var day = dayOfYear( new Date() );\n* // returns <number>\n*\n* @example\n* var day = dayOfYear( 12, 31, 2017 );\n* // returns 365\n*\n* @example\n* var day = dayOfYear( 12, 31, 2016 );\n* // returns 366\n*/\nfunction dayOfYear( month, day, year ) {\n\tvar date;\n\tvar days;\n\tvar num;\n\tvar mon;\n\tvar yr;\n\tvar d;\n\tvar i;\n\tif ( arguments.length === 0 ) {\n\t\t// Note: cannot cache as application may cross over into a new year:\n\t\tdate = new Date();\n\t\tmon = date.getMonth() + 1; // zero-based\n\t\tyr = date.getFullYear();\n\t\td = date.getDate();\n\t} else if ( arguments.length === 1 ) {\n\t\tif ( isDateObject( month ) ) {\n\t\t\tdate = month;\n\t\t\tmon = date.getMonth() + 1; // zero-based\n\t\t\tyr = date.getFullYear();\n\t\t\td = date.getDate();\n\t\t} else {\n\t\t\tthrow new TypeError( format( 'invalid argument. If only providing a single argument, must provide a Date object. Value: `%s`.', month ) );\n\t\t}\n\t} else {\n\t\tif ( !isString( month ) && !isInteger( month ) ) {\n\t\t\tthrow new TypeError( format( '0hvBF', month ) );\n\t\t}\n\t\tif ( !isInteger( day ) ) {\n\t\t\tthrow new TypeError( format( '0hv7x', day ) );\n\t\t}\n\t\tif ( !isInteger( year ) ) {\n\t\t\tthrow new TypeError( format( '0hv3B', year ) );\n\t\t}\n\t\tmon = month;\n\t\td = day;\n\t\tyr = year;\n\t}\n\tdays = daysInMonth( mon, yr );\n\tif ( d < 1 || d > days ) {\n\t\tthrow new RangeError( format( 'invalid argument. Day number must be on the interval: [1, %u]. Value: `%d`.', days, d ) );\n\t}\n\tmon = lowercase( mon.toString() );\n\tmon = MONTHS[ mon ];\n\tnum = 0;\n\tfor ( i = 0; i < mon-1; i++ ) {\n\t\tnum += DAYS[ i ];\n\n\t\t// Check for February during a leap year...\n\t\tif ( i === 1 && isLeapYear( yr ) ) {\n\t\t\tnum += 1;\n\t\t}\n\t}\n\tnum += d;\n\treturn num;\n}\n\n\n// EXPORTS //\n\nexport default dayOfYear;\n"],"names":["dayOfYear","month","day","year","date","days","num","mon","yr","d","i","arguments","length","Date","getMonth","getFullYear","getDate","isDateObject","TypeError","format","isString","isInteger","daysInMonth","RangeError","lowercase","toString","MONTHS","DAYS","isLeapYear"],"mappings":";;u5BAiEA,SAASA,EAAWC,EAAOC,EAAKC,GAC/B,IAAIC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACJ,GAA0B,IAArBC,UAAUC,OAGdL,GADAH,EAAO,IAAIS,MACAC,WAAa,EACxBN,EAAKJ,EAAKW,cACVN,EAAIL,EAAKY,eACH,GAA0B,IAArBL,UAAUC,OAAe,CACpC,IAAKK,EAAchB,GAMlB,MAAM,IAAIiB,UAAWC,EAAQ,kGAAmGlB,IAJhIM,GADAH,EAAOH,GACIa,WAAa,EACxBN,EAAKJ,EAAKW,cACVN,EAAIL,EAAKY,cAIJ,CACN,IAAMI,EAAUnB,KAAYoB,EAAWpB,GACtC,MAAM,IAAIiB,UAAWC,EAAQ,QAASlB,IAEvC,IAAMoB,EAAWnB,GAChB,MAAM,IAAIgB,UAAWC,EAAQ,QAASjB,IAEvC,IAAMmB,EAAWlB,GAChB,MAAM,IAAIe,UAAWC,EAAQ,QAAShB,IAEvCI,EAAMN,EACNQ,EAAIP,EACJM,EAAKL,EAGN,GADAE,EAAOiB,EAAaf,EAAKC,GACpBC,EAAI,GAAKA,EAAIJ,EACjB,MAAM,IAAIkB,WAAYJ,EAAQ,8EAA+Ed,EAAMI,IAKpH,IAHAF,EAAMiB,EAAWjB,EAAIkB,YACrBlB,EAAMmB,EAAQnB,GACdD,EAAM,EACAI,EAAI,EAAGA,EAAIH,EAAI,EAAGG,IACvBJ,GAAOqB,EAAMjB,GAGF,IAANA,GAAWkB,EAAYpB,KAC3BF,GAAO,GAIT,OADAA,GAAOG"}